<div class="astro-container">
  <div class="astro-card">
    <div class="astro-header" style="text-align: center">
      <h1>Generate your Tarot</h1>
      <p>Choose the focus of your tarot and click the button.</p>
    </div>

    <%# ---------------------------------------------------- %>
    <%# CONTROLLER PRINCIPAL DE STIMULUS %>
    <%# ---------------------------------------------------- %>
    <div data-controller="loading">

      <%# FORMULARIO CON TURBO DESACTIVADO Y ACCIÃ“N DE SUBMIT %>
      <%= simple_form_for @reading,
          url: tarot_readings_path,
          html: {
            "data-action": "submit->loading#show",
            "data-turbo": "false"
          } do |f| %>

        <%# SELECCIÃ“N DE CATEGORÃA %>
        <div class="astro-actions mb-3 custom-radio-list custom-radio-item custom-radio-group"
             style="text-align: center">
          <%= f.input :category_tarot,
                as: :radio_buttons,
                collection: [
                  ['Love',  'love'],
                  ['Money', 'money'],
                  ['Health','health']
                ],
                label: "ðŸ”® My future related with...",
                required: true %>
        </div>

        <%# BOTÃ“N DE SUBMIT (TARGET) %>
        <div class="premium-actions" style="text-align: center">
          <%= f.button :submit,
              "Generate my tarot",
              class: "premium-action-btn primary" %>
        </div>

      <% end %>

      <%# MENSAJE DE CARGA (TARGET), OCULTO POR DEFECTO %>
      <div data-loading-target="loading"
           class="d-none mt-4 text-center light-gray-text"
           style="font-size: 1.5rem; font-weight: 600;">
        âœ¨ The Universe is working for youâ€¦ please wait âœ¨

        <%# SPINNER DE BOOTSTRAP %>
        <div class="spinner-border text-primary mt-3" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

    </div> <%# Cierre del data-controller="loading" %>

  </div>
</div>
